<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Balloon</title>
    <style>
        #balloon {
            width: 50px;
            height: 50px;
            background-color: rgb(0, 255, 0);
            border-radius: 50%;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.3s ease-in-out;
        }
        #resetButton {
            position: fixed;
            bottom: 10px;
            right: 10px;
            padding: 10px;
            background-color: #ccc;
            cursor: pointer;
        }
        #colorPicker {
            position: fixed;
            bottom: 10px;
            left: 10px;
            padding: 10px;
        }
        #clickCounter {
            position: fixed;
            bottom: 50px;
            left: 10px;
        }
        #popCounter {
            position: fixed;
            bottom: 70px;
            left: 10px;
        }
        #pixelIncreaseDisplay {
            position: fixed;
            bottom: 90px;
            left: 10px;
        }
        #storeButton {
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 10px;
            background-color: #ccc;
            cursor: pointer;
        }
        #storeInfo {
            position: fixed;
            top: 50px;
            right: 10px;
        }
        #muteBlowButton {
            position: fixed;
            top: 10px;
            left: 10px;
            padding: 10px;
            background-color: #ccc;
            cursor: pointer;
        }
        #mutePopButton {
            position: fixed;
            top: 10px;
            left: 50px;
            padding: 10px;
            background-color: #ccc;
            cursor: pointer;
        }
        #decreasePixelButton {
            position: fixed;
            top: 100px;
            right: 10px;
            padding: 10px;
            background-color: #ccc;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div id="balloon" onclick="resizeBalloon()"></div>
<div id="resetButton" onclick="resetBalloon()">Pop</div>
<input type="color" id="colorPicker" onchange="changeBalloonColor()" value="#00ff00">
<div id="clickCounter">Clicks: 0</div>
<div id="popCounter">Balloons Popped: 0</div>
<div id="pixelIncreaseDisplay">Pixel Increase: 15px</div>
<div id="storeButton" onclick="buyPixelIncrease()">Buy Pixel Increase</div>
<div id="storeInfo">Clicks to Spend: <span id="clicksToSpend">0</span></div>
<div id="muteBlowButton" onclick="toggleMute('blow')">Mute Blow</div>
<div id="mutePopButton" onclick="toggleMute('pop')">Mute Pop</div>
<div id="decreasePixelButton" onclick="decreasePixelIncrease()">Decrease Pixel Increase</div>

<audio id="blowSound" src="blow.mp3"></audio>
<audio id="popSound" src="pop.mp3"></audio>
<script>
    var clickCounter = 0;
    var popCounter = 0;
    var pixelIncrease = 15;
    var totalClicks = 0;
    var clicksToSpend = 0;
    var muteState = {
        blow: false,
        pop: false
    };

    function playBlowSound() {
        var blowSound = document.getElementById("blowSound");
        if (!muteState.blow) {
            blowSound.play();
        }
    }

    function playPopSound() {
        var popSound = document.getElementById("popSound");
        if (!muteState.pop) {
            popSound.play();
        }
    }

    function resizeBalloon() {
        var balloon = document.getElementById("balloon");

        // Get the current width and height
        var currentWidth = balloon.offsetWidth;
        var currentHeight = balloon.offsetHeight;

        // Increase the width and height by the pixelIncrease
        var newWidth = currentWidth + pixelIncrease;
        var newHeight = currentHeight + pixelIncrease;

        // Apply the new width and height
        balloon.style.width = newWidth + "px";
        balloon.style.height = newHeight + "px";

        // Play blowing sound
        playBlowSound();

        // Increment click counter
        clickCounter++;
        totalClicks++;
        updateClickCounter();
        updatePixelIncreaseDisplay();

        if (newWidth >= 800 && newHeight >= 800) {
            resetBalloon();
        }
    }

    function resetBalloon() {
        var balloon = document.getElementById("balloon");

        // Randomly choose between "pop", "yippee", and "vine" sound effects
        playPopSound();

        // Reset the balloon to its original size
        balloon.style.width = "50px";
        balloon.style.height = "50px";

        // Increment click counter
        clickCounter++;
        totalClicks++;
        updateClickCounter();

        // Increment pop counter
        popCounter++;
        updatePopCounter();
    }

    function changeBalloonColor() {
        var balloon = document.getElementById("balloon");
        var colorPicker = document.getElementById("colorPicker");

        // Change the background color based on the selected color
        balloon.style.backgroundColor = colorPicker.value;

        // Increment click counter
        clickCounter++;
        totalClicks++;
        updateClickCounter();
    }

    function updateClickCounter() {
        var clickCounterElement = document.getElementById("clickCounter");
        clickCounterElement.innerHTML = "Clicks: " + clickCounter;
    }

    function updatePopCounter() {
        var popCounterElement = document.getElementById("popCounter");
        popCounterElement.innerHTML = "Balloons Popped: " + popCounter;
    }

    function updatePixelIncreaseDisplay() {
        var pixelIncreaseDisplay = document.getElementById("pixelIncreaseDisplay");
        pixelIncreaseDisplay.innerHTML = "Pixel Increase: " + pixelIncrease + "px";
    }

    function buyPixelIncrease() {
        if (clicksToSpend > 0) {
            pixelIncrease += 5;
            clicksToSpend--;
            updatePixelIncreaseDisplay();
            updateClicksToSpend();
        }
    }

    function decreasePixelIncrease() {
        // Decrease the pixel increase by 5
        pixelIncrease = Math.max(5, pixelIncrease - 5);
        updatePixelIncreaseDisplay();
    }

    function updateClicksToSpend() {
        var clicksToSpendElement = document.getElementById("clicksToSpend");
        clicksToSpendElement.innerHTML = clicksToSpend;
    }

    function toggleMute(soundType) {
        muteState[soundType] = !muteState[soundType];
        var muteButton = document.getElementById(`mute${soundType.charAt(0).toUpperCase() + soundType.slice(1)}Button`);
        muteButton.innerHTML = muteState[soundType] ? `Unmute ${soundType.charAt(0).toUpperCase() + soundType.slice(1)}` : `Mute ${soundType.charAt(0).toUpperCase() + soundType.slice(1)}`;
    }

    setInterval(function () {
        // Earn one click to spend every 50 clicks
        clicksToSpend += Math.floor(totalClicks / 50);
        updateClicksToSpend();
    }, 1000);
</script>
</body>
</html>
